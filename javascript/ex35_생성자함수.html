<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>생성자 함수</title>
    <style>
        .area {
            border: 1px solid black;
            width: 400px;
        }

        .big {
            height: 400px;
        }

        .small {
            height: 200px;
        }
    </style>
</head>

<body>
    <button onclick="test1()">확인1</button>
    <div class="area big" id="area1"></div>

    <button onclick="test2()">확인2</button>
    <div class="area big" id="area2"></div>
    <p>확인2 버튼을 클릭하면 area2 영역에 k1, k2 내용 출력하기</p>

    <button onclick="test3()">확인3</button>
    <div class="area big" id="area3"></div>
    <script>
        /*
        * 생성자 함수
        * 1. 객체를 만드는 함수
        * 2. 첫글자를 대문자로 작성함을 권장
        * 3. 함수 정의
        *    function 함수명(매개변수, ...) {
        *       this.속성 = 값;
        *       ...
        *    }
        * 4. 함수 호출
        *    let 객체 = new 함수명(인수, ...)
        */
        function Product(code, name, price) {
            this.code = code // code 속성값
            this.name = name
            this.price = price
        }
        let p1 = new Product('A1000', '새우깡', 3000) // p1 객체
        let p2 = new Product('A1001', '양파깡', 4000) // p2 객체
        console.log(p1)
        console.log(p2)
        function test1() {
            const area = document.querySelector("#area1")
            html = '<ul>'
            for (let p in p1) {
                html += `<li>${p}:${p1[p]}`
            }
            html += '</ul><hr><ul>'
            for (let p in p2) {
                html += `<li>${p}:${p2[p]}`
            }
            area.innerHTML = html + '</ul>'
        }
        /*
        * 프로토 타입(prototype)
        * 1. 객체들이 공유하는 메모리 공간 의미
        * 2. 공통 데이터(값, 함수 등)을 프로토타입에 저장해서 메모리 공간을 효율적으로 사용 가능
        * 3. 사용법
        *   1) 생성자 함수 내부
        *       this.__proto__.속성 = 값 또는 함수
        *   2) 생성자 함수 외부
        *       생성자 함수.prototype.속성 = 값 또는 함수
        */
        // 생성자 함수 내부 방식 ============================================
        function Korean(name) {
            // this.name = name
            // this.nation = 'South Korea'
            // this.capital = 'Seoul'
            // this.test = function () {
            //     console.log("프로토타입 함수")
            // }
            this.__proto__.nation = 'South Korea'
            this.__proto__.capital = 'Seoul'
            this.__proto__.test = function () {
                console.log("프로토타입 함수")
            }
        }
        let k1 = new Korean("홍길동")
        let k2 = new Korean("김삿갓")
        console.log(k1)
        console.log(k2)
        function test2() {
            html = `<ul>`
            for (let i in k1) {
                html += `<li>${i} : ${k1[i]}}</li>`
            }
            k1.test()
            for (let i in k2) {
                html += `<li>${i} : ${k2[i]}</li>`
            }
            k2.test()
            document.querySelector("#area2").innerHTML = html
        }
        // 생성자 함수 외부 방식 ============================================
        function American(name) {
            this.name = name;
        }
        American.prototype.nation = "United State"
        American.prototype.capital = "Washington DC"
        American.prototype.test = () => {
            console.log("외부에서 프로토타입 설정")
            console.log(this.nmae, this.nation, this.capital)
        }
        let p3 = new American('마이클')
        let p4 = new American('제시카')
        console.log(p3)
        console.log(p4)
        p3.test()
        p4.test()
        function test3() {
            const area = document.querySelector("#area3")
            let html = '<ul>'
            for (let p in p3) {
                html += `<li>${p}:${p3[p]}</li>`
            }
            html += `</ul><hr><ul>`
            for (let p in p4) {
                html += `<li>${p}:${p4[p]}</li>`
            }
            html += `</ul>`
            area.innerHTML = html
        }
    </script>
</body>

</html>